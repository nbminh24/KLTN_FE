# üìä LECAS E-COMMERCE - T·ªîNG QUAN D·ª∞ √ÅN

**Framework:** Next.js 15 (App Router) + TypeScript + TailwindCSS  
**Ng√†y c·∫≠p nh·∫≠t:** 25/01/2025

---

## üéØ TH√îNG TIN CHUNG

### **M√¥ t·∫£ d·ª± √°n:**
Platform th∆∞∆°ng m·∫°i ƒëi·ªán t·ª≠ th·ªùi trang v·ªõi t√≠ch h·ª£p AI (Rasa Chatbot, CLIP/FAISS Visual Search, Personalization)

### **Quy m√¥:**
- **T·ªïng s·ªë trang:** 49 pages
- **Customer pages:** 24 pages  
- **Admin pages:** 25 pages
- **Components:** 11+ reusable components
- **API endpoints:** 30+ endpoints t√≠ch h·ª£p

### **Tr·∫°ng th√°i:**
- ‚úÖ Frontend: 100% ho√†n th√†nh
- ‚úÖ Customer flow: 100% t√≠ch h·ª£p API
- ‚úÖ Admin panel: UI ho√†n thi·ªán (mock data)

---

## üë• CUSTOMER PAGES (24 TRANG)

### **1. TRANG CH·ª¶ & ƒêI·ªÄU H∆Ø·ªöNG**
| Trang | Route | T√≠nh nƒÉng ch√≠nh |
|-------|-------|-----------------|
| Homepage | `/` | Hero banner, New Arrivals, Top Selling, **AI Recommendations**, Categories, Testimonials |
| About Us | `/about` | Company info, team, values (CMS-enabled) |
| How It Works | `/works` | Shopping guide, workflow, AI features |
| Features | `/features` | Showcase t√≠nh nƒÉng (Chatbot, Visual Search, etc) |
| Contact | `/contact` | Form li√™n h·ªá, ƒë·ªãa ch·ªâ, map |

### **2. S·∫¢N PH·∫®M**
| Trang | Route | T√≠nh nƒÉng ch√≠nh |
|-------|-------|-----------------|
| Product Listing | `/products` | **Filters** (categories, price, colors, sizes, style), **Sort**, Pagination, 3-col grid |
| Product Detail | `/products/[id]` | Image gallery, **Size/Color selector**, Quantity, **Add to Cart**, **Add to Wishlist**, Reviews tab |
| Search | `/search` | Search results, filters, autocomplete |
| New Arrivals | `/new-arrivals` | S·∫£n ph·∫©m m·ªõi, date filter |
| Sale | `/sale` | S·∫£n ph·∫©m gi·∫£m gi√°, countdown |

**API Integration:**
- GET `/products` - List v·ªõi filters/sort/pagination
- GET `/products/:id` - Chi ti·∫øt s·∫£n ph·∫©m
- POST `/cart/items` - Add to cart v·ªõi variants
- POST `/wishlist` - Add to wishlist

### **3. GI·ªé H√ÄNG & THANH TO√ÅN**
| Trang | Route | T√≠nh nƒÉng ch√≠nh |
|-------|-------|-----------------|
| Cart | `/cart` | Cart items, quantity adjuster, **Promo code**, Order summary, Stock validation |
| Checkout | `/checkout` | **Select address**, **Payment method**, Order review, **Place order** |
| Order Confirmation | `/order-confirmation` | Success message, Order ID, tracking link |

**API Integration:**
- GET `/cart` - Load cart
- PUT/DELETE `/cart/items/:id` - Update/remove
- POST `/cart/apply-coupon` - √Åp d·ª•ng m√£
- POST `/orders` - T·∫°o ƒë∆°n h√†ng

### **4. ƒê∆†N H√ÄNG**
| Trang | Route | T√≠nh nƒÉng ch√≠nh |
|-------|-------|-----------------|
| Order History | `/orders` | List orders, filter by status, search |
| Order Detail | `/orders/[id]` | Timeline, shipping info, items table, actions (Cancel, Review) |
| Order Tracking | `/orders/[id]/track` | Map view, courier info, real-time tracking |

### **5. T√ÄI KHO·∫¢N**
| Trang | Route | T√≠nh nƒÉng ch√≠nh |
|-------|-------|-----------------|
| Login | `/login` | Email/password, social login UI |
| Signup | `/signup` | Registration form, auto-login |
| Forgot Password | `/forgot-password` | Send reset link |
| Reset Password | `/reset-password` | New password form |
| Email Verification | `/verify-email` | Token verification |
| Profile | `/profile` | Personal info, **Statistics** (orders, spent), avatar upload |
| Addresses | `/addresses` | CRUD addresses, set default |
| Wishlist | `/wishlist` | Saved products, move to cart |

### **6. H·ªñ TR·ª¢ & TH√îNG TIN**
| Trang | Route | T√≠nh nƒÉng ch√≠nh |
|-------|-------|-----------------|
| Support | `/support` | **AI-first notice**, Support ticket form, required checkbox |
| FAQ | `/faq` | 5 categories Q&A, accordion, search (CMS) |
| Delivery | `/delivery` | Shipping info (CMS) |
| Privacy | `/privacy` | Privacy policy (CMS) |
| Terms | `/terms` | Terms & conditions (CMS) |

### **7. T√çNH NƒÇNG AI ƒê·∫∂C BI·ªÜT**

#### **AI Chatbot** (Component - Fixed bottom-right)
**Text Chat:**
- Send/receive messages, conversation history
- Intent recognition (order tracking, product info, size guide, returns)
- Context-aware responses, quick replies

**Visual Search:**
- Upload/capture image
- AI analyze v·ªõi CLIP
- T√¨m similar products
- Product recommendations

**API:**
- POST `/ai/chat` - Chat message
- POST `/ai/image-search` - Image upload
- GET `/ai/chat/history` - Conversation history

---

## üîß ADMIN PANEL (25 TRANG)

**Layout:** Sidebar menu + Topbar + Main content (scale 90%)

### **1. DASHBOARD**
| Trang | Route | T√≠nh nƒÉng |
|-------|-------|-----------|
| Dashboard | `/admin` | 4 stat cards, 3 charts (Sales, Category, Top Products), Recent orders table |

### **2. S·∫¢N PH·∫®M (5 pages)**
| Trang | Route | T√≠nh nƒÉng |
|-------|-------|-----------|
| Products List | `/admin/products` | Table, search, filters, **AI Status column** (Indexed/Pending), bulk actions |
| Add Product | `/admin/products/add` | Full form: Basic, Pricing, Images, **Variants** (size/color), Inventory, Shipping, SEO |
| Edit Product | `/admin/products/[id]/edit` | Same form, pre-filled |
| View Product | `/admin/products/[id]` | Read-only, sales chart, reviews |
| Import Products | `/admin/products/import` | CSV upload, mapping, validation, summary (287/300 success) |

**AI Status Column:** ‚≠ê Shows CLIP vector index status cho visual search

### **3. ƒê∆†N H√ÄNG (2 pages)**
| Trang | Route | T√≠nh nƒÉng |
|-------|-------|-----------|
| Orders List | `/admin/orders` | Filters (status, date, payment), search, export, stats |
| Order Detail | `/admin/orders/[id]` | **Status dropdown with validation**, customer info, timeline, items, payment, actions |

**Status Validation:** ‚≠ê State machine - ch·∫∑n invalid transitions (Delivered‚ÜíPending, Cancelled‚ÜíShipped)

### **4. KH√ÅCH H√ÄNG (2 pages)**
| Trang | Route | T√≠nh nƒÉng |
|-------|-------|-----------|
| Customers List | `/admin/customers` | Table, stats (orders, spent), filters |
| Customer Detail | `/admin/customers/[id]` | 5 tabs: Overview, Orders, Addresses, Wishlist, Notes |

### **5. KH√ÅC**
| Trang | Route | T√≠nh nƒÉng |
|-------|-------|-----------|
| Categories | `/admin/categories` | CRUD modal, list view |
| Promotions | `/admin/promotions` | Promo codes, discount, usage limits, valid dates |
| Inventory | `/admin/inventory` | Stock levels, low stock alerts, adjust stock modal |

### **6. CHATBOT MANAGEMENT (4 pages)** ‚≠ê‚≠ê‚≠ê

| Trang | Route | T√≠nh nƒÉng |
|-------|-------|-----------|
| Chatbot Dashboard | `/admin/chatbot` | Stats (conversations, users, resolution rate), charts |
| Conversations | `/admin/chatbot/conversations` | List all chats, view details, intents, sentiment |
| **Knowledge Base** | `/admin/chatbot/knowledge` | **CRUD intents**, training examples, bot responses, categories |
| **Knowledge Import** | `/admin/chatbot/knowledge/import` | Upload docs (TXT/CSV/DOCX), **AI auto-detect** intents/Q&As, preview, import |

**Knowledge Base Workflow:**
```
Admin v√†o /admin/chatbot/knowledge:
1. Grid view c√°c intents (greet, shipping, returns, size_guide)
2. Click "Add Intent" ho·∫∑c Edit
3. Nh·∫≠p:
   - Intent name (e.g., "ask_shipping")
   - Training examples: ["How long shipping?", "When will it arrive?"]
   - Bot responses: ["Shipping takes 3-5 days..."]
4. Save ‚Üí Bot auto re-train!
```

**Knowledge Import Workflow:**
```
Admin c√≥ FAQ.docx (100 Q&As):
1. Upload file t·∫°i /admin/chatbot/knowledge/import
2. AI analyze ‚Üí Detect 20 intents, 100 examples, 50 responses
3. Preview results
4. Confirm import ‚Üí Bot learns all!
```

**Unanswered Questions (Updated):**
- Table: Question, Frequency, Confidence
- **"Train Bot" button** tr√™n m·ªói question
- Modal: Add to existing intent OR create new intent
- Write response, add similar questions
- Submit ‚Üí Bot re-trains

### **7. CMS FOR STATIC PAGES (2 pages)** ‚≠ê‚≠ê‚≠ê

| Trang | Route | T√≠nh nƒÉng |
|-------|-------|-----------|
| Pages List | `/admin/pages` | 7 pages (About, Contact, FAQ, Privacy, Terms, Return, Shipping), status, last modified |
| **Rich Text Editor** | `/admin/pages/edit/[slug]` | **Visual toolbar** (H1/H2, Bold, Lists, Links, Images), **Live preview**, Meta settings, Save/Publish |

**CMS Benefits:**
- ‚ùå Tr∆∞·ªõc: S·ª≠a /about ‚Üí Ph·∫£i nh·ªù dev
- ‚úÖ Sau: Admin t·ª± edit qua Rich Text Editor!

### **8. SETTINGS (1 page)**
| Trang | Route | T√≠nh nƒÉng |
|-------|-------|-----------|
| Settings | `/admin/settings` | 4 tabs: General, **AI Search**, Notifications, Security |

**AI Search Tab:** ‚≠ê‚≠ê‚≠ê
- **Index Status:** Total products, Indexed, Pending
- **Vector Index Info:** Last build, size, CLIP model
- **"Rebuild Vector Index" button** - Re-vectorize all products (5-10 mins)
- **Advanced Config:** Select CLIP model, FAISS type, auto-index toggle

**Use Case:**
```
Admin import 300 products ‚Üí AI Status: Pending
1. V√†o /admin/settings ‚Üí AI Search tab
2. Click "Rebuild Vector Index"
3. Wait 5-10 mins (progress bar)
4. Done! All products ‚Üí Indexed ‚úÖ
5. Visual search works!
```

### **9. SUPPORT INBOX (1 page)**
| Trang | Route | T√≠nh nƒÉng |
|-------|-------|-----------|
| Support Inbox | `/admin/support-inbox` | Stats, filters, ticket list (left), detail panel (right), reply form, resolve button |

**AI-First Strategy:**
- Badge "AI Escalated" cho tickets t·ª´ chatbot
- Admin ch·ªâ handle 20% cases ph·ª©c t·∫°p

---

## üîå API INTEGRATION SUMMARY

### **Customer APIs - 100% Complete ‚úÖ**
```
Authentication:
- POST /auth/login, /auth/register
- POST /auth/forgot-password, /auth/reset-password

Users:
- GET /users/profile
- PUT /users/profile
- POST /users/change-password

Products:
- GET /products (filters, sort, pagination)
- GET /products/:id
- POST /products/:id/reviews

Cart:
- GET /cart
- POST /cart/items
- PUT /cart/items/:id
- DELETE /cart/items/:id
- POST /cart/apply-coupon

Orders:
- GET /orders
- GET /orders/:id
- POST /orders
- POST /orders/:id/cancel

Wishlist:
- GET /wishlist
- POST /wishlist
- DELETE /wishlist/:id

Addresses:
- GET /addresses
- POST /addresses
- PUT /addresses/:id
- DELETE /addresses/:id
- POST /addresses/:id/set-default

AI:
- POST /ai/chat
- POST /ai/image-search
- GET /ai/chat/history

Support:
- POST /support/tickets
- GET /support/tickets
```

### **Admin APIs - Pending Backend ‚è≥**
Admin pages hi·ªán d√πng mock data, ch·ªù backend implementation.

---

## üé® UI/UX HIGHLIGHTS

### **Design System:**
- **Colors:** Professional gray/blue scheme
- **Typography:** Clean, readable fonts
- **Icons:** Lucide React (consistent style)
- **Spacing:** Tailwind utilities
- **Responsive:** Mobile-first approach

### **Admin UI Scale:**
- **90% transform** tr√™n to√†n b·ªô admin interface
- Nh∆∞ Chrome zoom 90% ‚Üí UI h√†i h√≤a h∆°n
- Nhi·ªÅu content hi·ªÉn th·ªã tr√™n m√†n h√¨nh

### **Animations:**
- Smooth transitions
- Hover effects
- Loading states
- Modal slide-ins

### **Color Coding:**
**Order Status:**
- Gray: Pending
- Blue: Processing  
- Purple: Shipped
- Green: Delivered
- Red: Cancelled

**Stock Levels:**
- Green: >50 items
- Yellow: 10-50 items
- Red: <10 items

**AI Status:**
- Purple: Indexed
- Gray: Pending

---

## üí° T√çNH NƒÇNG N·ªîI B·∫¨T

### **1. AI Chatbot v·ªõi Knowledge Management** ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê
- **Customer:** Chat real-time, visual search, context-aware
- **Admin:** T·ª± qu·∫£n l√Ω intents, training data, import t·ª´ docs
- **Unique:** AI auto-detect intents t·ª´ uploaded files
- **Training:** Click "Train Bot" t·ª´ unanswered questions

### **2. AI Visual Search v·ªõi Index Management** ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê
- **Customer:** Upload ·∫£nh ‚Üí T√¨m similar products
- **Admin:** Track AI Status per product, rebuild index 1-click
- **Technology:** CLIP vectorization + FAISS indexing
- **Maintenance:** D·ªÖ d√†ng rebuild sau bulk import

### **3. CMS for Static Pages** ‚≠ê‚≠ê‚≠ê‚≠ê
- **Admin:** Rich text editor cho 7 static pages
- **No-code:** Marketing t·ª± update n·ªôi dung
- **SEO:** Meta tags, slugs editable
- **Workflow:** Draft ‚Üí Preview ‚Üí Publish

### **4. Smart Cart & Checkout** ‚≠ê‚≠ê‚≠ê‚≠ê
- **Backend-managed:** Kh√¥ng d√πng localStorage
- **Stock validation:** Real-time check
- **Promo codes:** Apply coupons
- **Address management:** Select ho·∫∑c add new

### **5. Order Management v·ªõi State Machine** ‚≠ê‚≠ê‚≠ê‚≠ê
- **Status validation:** Ch·∫∑n invalid transitions
- **Timeline:** Track m·ªói stage
- **Actions:** Cancel, refund, print invoice
- **Customer view:** Real-time tracking v·ªõi map

### **6. Product Variants System** ‚≠ê‚≠ê‚≠ê‚≠ê
- **Size variants:** Stock per size
- **Color variants:** Stock per color
- **Price adjustments:** Per variant
- **Frontend:** Dynamic selector
- **Admin:** Easy management

### **7. AI-First Support Strategy** ‚≠ê‚≠ê‚≠ê‚≠ê
- **Chatbot first:** 80% auto-resolve
- **Support tickets:** Cho 20% complex cases
- **Required checkbox:** Confirm tried AI
- **Email-based:** Professional tracking

---

## üìÇ C·∫§U TR√öC QUAN TR·ªåNG

```
kltn_fe/
‚îú‚îÄ‚îÄ app/                          # Next.js App Router pages
‚îÇ   ‚îú‚îÄ‚îÄ (customer pages)/         # 24 customer-facing pages
‚îÇ   ‚îú‚îÄ‚îÄ admin/                    # 25 admin pages
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ chatbot/              # 4 chatbot management pages
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ knowledge/        # Intent CRUD ‚≠ê
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ import/       # AI-powered import ‚≠ê
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ unanswered/       # Train bot ‚≠ê
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pages/                # CMS pages ‚≠ê
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ edit/[slug]/      # Rich text editor ‚≠ê
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ products/             # Product management
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ orders/               # Order management
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ settings/             # AI Search tab ‚≠ê
‚îÇ   ‚îú‚îÄ‚îÄ layout.tsx                # Root layout v·ªõi AuthProvider
‚îÇ   ‚îî‚îÄ‚îÄ globals.css               # Global styles
‚îÇ
‚îú‚îÄ‚îÄ components/                   # Reusable components
‚îÇ   ‚îú‚îÄ‚îÄ Chatbot.tsx               # AI Chatbot component ‚≠ê
‚îÇ   ‚îú‚îÄ‚îÄ Header.tsx                # Main header
‚îÇ   ‚îú‚îÄ‚îÄ Footer.tsx                # Main footer
‚îÇ   ‚îú‚îÄ‚îÄ ProductCard.tsx           # Product card
‚îÇ   ‚îî‚îÄ‚îÄ admin/                    # Admin components
‚îÇ       ‚îî‚îÄ‚îÄ AdminSidebar.tsx      # Admin navigation
‚îÇ
‚îú‚îÄ‚îÄ contexts/                     # React contexts
‚îÇ   ‚îî‚îÄ‚îÄ AuthContext.tsx           # Authentication state ‚≠ê
‚îÇ
‚îú‚îÄ‚îÄ lib/                          # Utility libraries
‚îÇ   ‚îú‚îÄ‚îÄ api.ts                    # API service layer (750+ lines) ‚≠ê
‚îÇ   ‚îú‚îÄ‚îÄ admin-api.ts              # Admin API calls
‚îÇ   ‚îú‚îÄ‚îÄ cart.ts                   # Cart utilities
‚îÇ   ‚îú‚îÄ‚îÄ wishlist.ts               # Wishlist utilities
‚îÇ   ‚îú‚îÄ‚îÄ pricing.ts                # Price calculations
‚îÇ   ‚îî‚îÄ‚îÄ orderStatus.ts            # Order state machine ‚≠ê
‚îÇ
‚îú‚îÄ‚îÄ public/                       # Static assets
‚îî‚îÄ‚îÄ package.json                  # Dependencies
```

---

## üöÄ SETUP & DEPLOYMENT

### **Prerequisites:**
```bash
Node.js 18+
npm ho·∫∑c yarn
```

### **Installation:**
```bash
# Install dependencies
npm install

# Create .env.local
NEXT_PUBLIC_API_URL=http://localhost:3001

# Run development
npm run dev

# Build production
npm run build
npm start
```

### **Backend Requirements:**
Backend ph·∫£i ch·∫°y t·∫°i `localhost:3001` v·ªõi c√°c endpoints ƒë√£ li·ªát k√™ ·ªü tr√™n.

---

## üìà METRICS & STATISTICS

### **Code Metrics:**
- **Total files:** 100+ files
- **Lines of code:** ~15,000+ lines
- **Components:** 11+ reusable
- **Pages:** 49 pages
- **API calls:** 30+ endpoints

### **Features:**
- ‚úÖ Authentication & Authorization
- ‚úÖ Product Management (CRUD)
- ‚úÖ Shopping Cart & Checkout
- ‚úÖ Order Management & Tracking
- ‚úÖ User Profile & Addresses
- ‚úÖ Wishlist
- ‚úÖ AI Chatbot (Rasa)
- ‚úÖ AI Visual Search (CLIP/FAISS)
- ‚úÖ AI Personalization
- ‚úÖ Support Tickets
- ‚úÖ CMS for Static Pages
- ‚úÖ Admin Dashboard
- ‚úÖ Inventory Management
- ‚úÖ Promotions
- ‚úÖ Reviews System

---

## üéì KLTN HIGHLIGHTS

### **1. AI Integration - Core Strength**
- **Rasa Chatbot:** Full knowledge base management
- **CLIP Visual Search:** Index management UI
- **Personalization:** Recommendation engine
- **Admin Control:** T·ª± qu·∫£n l√Ω AI kh√¥ng c·∫ßn dev

### **2. Professional E-commerce Features**
- Complete shopping flow
- Variant management (size/color)
- Stock validation
- Order state machine
- Payment integration ready

### **3. Modern Tech Stack**
- Next.js 15 App Router
- TypeScript strict mode
- TailwindCSS
- API-first architecture
- Context API for state

### **4. Admin Panel Excellence**
- 25 pages qu·∫£n l√Ω
- Knowledge base UI
- CMS cho static pages
- AI Search maintenance
- Professional UI (scale 90%)

### **5. Unique Differentiators**
- ‚úÖ AI-first support strategy
- ‚úÖ Click to train chatbot
- ‚úÖ AI auto-detect intents
- ‚úÖ Visual search v·ªõi index management
- ‚úÖ No-code CMS
- ‚úÖ Order state validation

---

## ‚úÖ COMPLETION STATUS

| Module | Customer | Admin | API |
|--------|----------|-------|-----|
| Authentication | ‚úÖ | ‚úÖ | ‚úÖ |
| Products | ‚úÖ | ‚úÖ | ‚úÖ |
| Cart & Checkout | ‚úÖ | - | ‚úÖ |
| Orders | ‚úÖ | ‚úÖ | ‚úÖ |
| User Management | ‚úÖ | ‚úÖ | ‚úÖ |
| Wishlist | ‚úÖ | - | ‚úÖ |
| Addresses | ‚úÖ | - | ‚úÖ |
| AI Chatbot | ‚úÖ | ‚úÖ | ‚úÖ |
| AI Visual Search | ‚úÖ | ‚úÖ | ‚úÖ |
| CMS Pages | ‚úÖ | ‚úÖ | ‚è≥ |
| Support | ‚úÖ | ‚úÖ | ‚úÖ |
| Analytics | - | ‚úÖ | ‚è≥ |

**Overall:** Customer flow 100% ‚úÖ | Admin UI 100% ‚úÖ | Admin API pending backend ‚è≥

---

## üéØ SUMMARY

**LeCas E-commerce** l√† m·ªôt n·ªÅn t·∫£ng th∆∞∆°ng m·∫°i ƒëi·ªán t·ª≠ **ho√†n ch·ªânh** v·ªõi t√≠ch h·ª£p AI ti√™n ti·∫øn. 

**ƒêi·ªÉm m·∫°nh:**
- ‚úÖ 49 pages ƒë·∫ßy ƒë·ªß ch·ª©c nƒÉng
- ‚úÖ AI Chatbot v·ªõi knowledge management
- ‚úÖ AI Visual Search v·ªõi admin tools
- ‚úÖ CMS cho static pages
- ‚úÖ Professional admin panel
- ‚úÖ Modern tech stack
- ‚úÖ API-first architecture

**S·∫µn s√†ng cho:**
- ‚úÖ Demo KLTN
- ‚úÖ Customer testing
- ‚úÖ Production deployment (sau khi backend ready)

**Tech Stack:** Next.js 15 + TypeScript + TailwindCSS + Rasa + CLIP/FAISS

---

**Date:** 25/01/2025  
**Status:** Production Ready (Frontend)  
**Next Steps:** Backend API completion cho admin features
